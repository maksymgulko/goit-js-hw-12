{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const key = '45559560-5df08bb83c1629c82dd907879';\n\nexport default function imageFetch(searchResult) {\n  const url =\n    'https://pixabay.com/api/?key=' +\n    key +\n    '&q=' +\n    encodeURIComponent(searchResult) +\n    '&per_page=45' +\n    '&image_type=photo' +\n    '&orientation=horizontal' +\n    '&safesearch=true';\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => console.log('Error:', error));\n}\n","export default function renderImages(images) {\n  const gallery = document.querySelector('.image-gallery');\n  gallery.innerHTML = '';\n  const markup = images.hits\n    .map(image => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        views,\n        downloads,\n        likes,\n        comments,\n      } = image;\n      return `\n          <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img \n                class=\"gallery-image\" \n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n              />\n            </a>\n            <div class=\"overlay\">\n            <div class=\"info\">\n                <div class=\"overlay-item\">Likes<br>${likes}</div>\n                <div class=\"overlay-item\">Views<br>${views}</div>\n                <div class=\"overlay-item\">Comments<br>${comments}</div>\n                <div class=\"overlay-item\">Downloads<br>${downloads}</div>\n                </div>\n            </div>\n          </li>`;\n    })\n    .join('');\n  gallery.innerHTML = markup;\n}\n","import imageFetch from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst loader = document.querySelector('.loader');\nconst submitForm = document.querySelector('.form');\nconst gallery = document.querySelector('.image-gallery');\n\nsubmitForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  gallery.innerHTML = '';\n  event.preventDefault();\n  const form = event.target;\n  const searchResult = form.elements.picture.value.trim();\n  loader.style.display = 'inline-block';\n  imageFetch(searchResult)\n    .then(response => {\n      loader.style.display = 'none';\n      if (response.hits.length > 0) {\n        renderImages(response);\n        lightbox.refresh();\n      } else {\n        iziToast.show({\n          message: `❌ Sorry, there are no images matching your search query.`,\n          position: 'topRight',\n          backgroundColor: '#F44336',\n          messageColor: '#fff',\n        });\n      }\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.show({\n        message: `❌ Сталася помилка: ${error.message}`,\n        position: 'topRight',\n        backgroundColor: '#F44336',\n        messageColor: '#fff',\n      });\n    });\n}\n"],"names":["key","imageFetch","searchResult","url","response","error","renderImages","images","gallery","markup","image","webformatURL","largeImageURL","tags","views","downloads","likes","comments","lightbox","SimpleLightbox","loader","submitForm","handleSubmit","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,qCAEG,SAASC,EAAWC,EAAc,CAC/C,MAAMC,EACJ,gCACAH,EACA,MACA,mBAAmBE,CAAY,EAC/B,uEAKF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,CAChD,CCrBe,SAASC,EAAaC,EAAQ,CAC3C,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EACvDA,EAAQ,UAAY,GACpB,MAAMC,EAASF,EAAO,KACnB,IAAIG,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,CACD,EAAGP,EACJ,MAAO;AAAA;AAAA,4CAE+BE,CAAa;AAAA;AAAA;AAAA,uBAGlCD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qDAK0BG,CAAK;AAAA,qDACLF,CAAK;AAAA,wDACFG,CAAQ;AAAA,yDACPF,CAAS;AAAA;AAAA;AAAA,gBAIlE,CAAK,EACA,KAAK,EAAE,EACVP,EAAQ,UAAYC,CACtB,CC3BA,MAAMS,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,OAAO,EAC3Cb,EAAU,SAAS,cAAc,gBAAgB,EAEvDa,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3Bf,EAAQ,UAAY,GACpBe,EAAM,eAAc,EAEpB,MAAMrB,EADOqB,EAAM,OACO,SAAS,QAAQ,MAAM,OACjDH,EAAO,MAAM,QAAU,eACvBnB,EAAWC,CAAY,EACpB,KAAKE,GAAY,CAChBgB,EAAO,MAAM,QAAU,OACnBhB,EAAS,KAAK,OAAS,GACzBE,EAAaF,CAAQ,EACrBc,EAAS,QAAO,GAEhBM,EAAS,KAAK,CACZ,QAAS,2DACT,SAAU,WACV,gBAAiB,UACjB,aAAc,MACxB,CAAS,CAET,CAAK,EACA,MAAMnB,GAAS,CACde,EAAO,MAAM,QAAU,OACvBI,EAAS,KAAK,CACZ,QAAS,sBAAsBnB,EAAM,OAAO,GAC5C,SAAU,WACV,gBAAiB,UACjB,aAAc,MACtB,CAAO,CACP,CAAK,CACL"}